---
title: Infrastructureエージェントの起動、停止、再起動
tags:
  - Infrastructure
  - Install the infrastructure agent
  - Manage your agent
metaDescription: "Use your system's init system to start, stop, or restart New Relic's infrastructure agent."
translationType: human
---

Infrastructure エージェントはインストレーションスクリプトの実行後、自動的に起動します。ただし、[エージェントの設定を変更した](/docs/infrastructure-configure-your-agent)後などは、手動でのエージェント再起動の必要がある場合があります。

## ![Linux](src/images/otherlinux.png 'Linux')Linux：起動、停止、再起動、エージェントのステータス確認 [#linux]

[Linux](/docs/infrastructure/new-relic-infrastructure/installation/install-infrastructure-linux)の場合は、必ず[お使いの init システム](#init-system)の正しいコマンドを使用してください。必要に応じて、`start`、`stop`、`restart`、`status`を選択してください：

- **SystemD**（Amazon Linux 2、SLES 12、CentOS 7 以降、Debian 8 以降、RHEL 7 以降、Ubuntu 15.04 以降）：

  ```
  sudo systemctl <var><start|stop|restart|status></var> newrelic-infra
  ```

- **System V**（Debian 7、SLES 11.4、RHEL 5）：

  ```
  sudo /etc/init.d/newrelic-infra <var><start|stop|restart|status></var>
  ```

- **Upstart**（Amazon Linux、RHEL 6、Ubuntu 14.04 以前）：

  ```
  sudo initctl <var><start|stop|restart|status></var> newrelic-infra
  ```

## ![Windows Server](src/images/windows.png 'Windows Server')Windows：起動、停止、再起動、エージェントのステータス確認 [#windows]

<Callout variant="important">
  エージェントを開始または停止、再起動するには、`アドミニストレーター`として**cmd.exe**またはPowerShellを実行する必要があります。
</Callout>

[Windows Server](/docs/infrastructure/new-relic-infrastructure/installation/install-infrastructure-windows-server)の場合は、Windows のコマンドプロンプトまたは PowerShell を使用してください。

### ![CMD](src/images/cmd.png 'CMD')コマンドプロンプト（cmd.exe）

- Windows エージェントを起動または停止する：

  ```
  net <var><start|stop></var> newrelic-infra
  ```

- Windows エージェントを再起動する：

  ```
  net stop newrelic-infra ; net start newrelic-infra
  ```

- Windows エージェントのステータスを確認する：

  ```
  sc query "newrelic-infra" | find "STATE"
  ```

### ![PowerShell](src/images/ps.png 'PowerShell') PowerShell

- Windows エージェントを起動または停止する：

  ```
  Stop-Service -Name "newrelic-infra"
  Start-Service -Name "newrelic-infra"
  ```

  `net start|stop newrelic-infra`を使用することもできます

* Windows エージェントを再起動する：

  ```
  Restart-Service newrelic-infra
  ```

* Windows エージェントのステータスを確認する：

  ```
  (Get-Service newrelic-infra).Status
  ```

## macOS：エージェントの起動、停止、再起動、ステータス確認 [#macOS]

- エージェントを停止または開始：

  ```
  brew services stop newrelic-infra-agent
  brew services start newrelic-infra-agent
  ```

- エージェントを再起動：

  ```
  brew services restart newrelic-infra-agent
  ```

- エージェントのステータスを確認：

  ```
  brew services list
  ```

## エージェントログをカスタマイズする [#logging]

Infrastructure エージェントがデフォルトのロケーションにログを記録します。このロケーションは、プラットフォームによって左右されます。この場所は、[`log_file`](/docs/infrastructure/install-configure-infrastructure/configuration/infrastructure-configuration-settings#log-file)設定でカスタマイズできます。また、[トラブルシューティングのための詳細なログを生成する](/docs/infrastructure/new-relic-infrastructure/troubleshooting/generating-logs-troubleshooting-infrastructure)こともできます。

## お使いの init システムを特定する [#init-system]

Windows Server の場合、このドキュメント内のコマンドは Windows のコマンドプロンプトで使用します。

Linux の場合、Infrastructure エージェントがお使いのディストリビューションに適した init システムを選択します。

<table>
  <thead>
    <tr>
      <th style={{ width: "200px", textAlign: "right" }}>
        ディストリビューション
      </th>

      <th style={{ width: "110px", textAlign: "center" }}>
        SystemD
      </th>

      <th style={{ width: "110px", textAlign: "center" }}>
        System V
      </th>

      <th style={{ width: "110px", textAlign: "center" }}>
        Upstart
      </th>
    </tr>

  </thead>

  <tbody>
    <tr>
      <td style={{ textAlign: "right" }}>
        Amazon Linux
      </td>

      <td style={{ textAlign: "center" }}/>

      <td style={{ textAlign: "center" }}/>

      <td style={{ textAlign: "center" }}>
        <Icon
          style={{color: '#328787'}}
          name="fe-check"
        />
      </td>
    </tr>

    <tr>
      <td style={{ textAlign: "right" }}>
        Amazon Linux 2
      </td>

      <td style={{ textAlign: "center" }}>
        <Icon
          style={{color: '#328787'}}
          name="fe-check"
        />
      </td>

      <td style={{ textAlign: "center" }}/>

      <td style={{ textAlign: "center" }}/>
    </tr>

    <tr>
      <td style={{ textAlign: "right" }}>
        CentOS 7
      </td>

      <td style={{ textAlign: "center" }}>
        <Icon
          style={{color: '#328787'}}
          name="fe-check"
        />
      </td>

      <td style={{ textAlign: "center" }}/>

      <td style={{ textAlign: "center" }}/>
    </tr>

    <tr>
      <td style={{ textAlign: "right" }}>
        CentOS 8
      </td>

      <td style={{ textAlign: "center" }}>
        <Icon
          style={{color: '#328787'}}
          name="fe-check"
        />
      </td>

      <td style={{ textAlign: "center" }}/>

      <td style={{ textAlign: "center" }}/>
    </tr>

    <tr>
      <td style={{ textAlign: "right" }}>
        Debian 7（「Wheezy」）
      </td>

      <td style={{ textAlign: "center" }}/>

      <td style={{ textAlign: "center" }}>
        <Icon
          style={{color: '#328787'}}
          name="fe-check"
        />
      </td>

      <td style={{ textAlign: "center" }}/>
    </tr>

    <tr>
      <td style={{ textAlign: "right" }}>
        Debian 8（「Jessie」）
      </td>

      <td style={{ textAlign: "center" }}>
        <Icon
          style={{color: '#328787'}}
          name="fe-check"
        />
      </td>

      <td style={{ textAlign: "center" }}/>

      <td style={{ textAlign: "center" }}/>
    </tr>

    <tr>
      <td style={{ textAlign: "right" }}>
        Debian 9（「Stretch」）
      </td>

      <td style={{ textAlign: "center" }}>
        <Icon
          style={{color: '#328787'}}
          name="fe-check"
        />
      </td>

      <td style={{ textAlign: "center" }}/>

      <td style={{ textAlign: "center" }}/>
    </tr>

    <tr>
      <td style={{ textAlign: "right" }}>
        RHEL 5
      </td>

      <td style={{ textAlign: "center" }}/>

      <td style={{ textAlign: "center" }}>
        <Icon
          style={{color: '#328787'}}
          name="fe-check"
        />
      </td>

      <td style={{ textAlign: "center" }}/>
    </tr>

    <tr>
      <td style={{ textAlign: "right" }}>
        RHEL 6
      </td>

      <td style={{ textAlign: "center" }}/>

      <td style={{ textAlign: "center" }}/>

      <td style={{ textAlign: "center" }}>
        <Icon
          style={{color: '#328787'}}
          name="fe-check"
        />
      </td>
    </tr>

    <tr>
      <td style={{ textAlign: "right" }}>
        RHEL 7
      </td>

      <td style={{ textAlign: "center" }}>
        <Icon
          style={{color: '#328787'}}
          name="fe-check"
        />
      </td>

      <td style={{ textAlign: "center" }}/>

      <td style={{ textAlign: "center" }}/>
    </tr>

    <tr>
      <td style={{ textAlign: "right" }}>
        RHEL 8
      </td>

      <td style={{ textAlign: "center" }}>
        <Icon
          style={{color: '#328787'}}
          name="fe-check"
        />
      </td>

      <td style={{ textAlign: "center" }}/>

      <td style={{ textAlign: "center" }}/>
    </tr>

    <tr>
      <td style={{ textAlign: "right" }}>
        Ubuntu、14.04以前
      </td>

      <td style={{ textAlign: "center" }}/>

      <td style={{ textAlign: "center" }}/>

      <td style={{ textAlign: "center" }}>
        <Icon
          style={{color: '#328787'}}
          name="fe-check"
        />
      </td>
    </tr>

    <tr>
      <td style={{ textAlign: "right" }}>
        Ubuntu、16.04以降
      </td>

      <td style={{ textAlign: "center" }}>
        <Icon
          style={{color: '#328787'}}
          name="fe-check"
        />
      </td>

      <td style={{ textAlign: "center" }}/>

      <td style={{ textAlign: "center" }}/>
    </tr>

    <tr>
      <td style={{ textAlign: "right" }}>
        SLES 12
      </td>

      <td style={{ textAlign: "center" }}>
        <Icon
          style={{color: '#328787'}}
          name="fe-check"
        />
      </td>

      <td style={{ textAlign: "center" }}/>

      <td style={{ textAlign: "center" }}/>
    </tr>

    <tr>
      <td style={{ textAlign: "right" }}>
        SLES 11
      </td>

      <td style={{ textAlign: "center" }}/>

      <td style={{ textAlign: "center" }}>
        <Icon
          style={{color: '#328787'}}
          name="fe-check"
        />
      </td>

      <td style={{ textAlign: "center" }}/>
    </tr>

  </tbody>
</table>

## 設定管理ツール [#config-mgmt]

Infrastructure エージェントを設定管理ツールを使用して管理するには、次をご覧ください。

- [Ansible の設定](/docs/infrastructure/new-relic-infrastructure/config-management-tools/configure-new-relic-infrastructure-using-ansible)
- [Chef の設定](/docs/infrastructure/new-relic-infrastructure/config-management-tools/configure-new-relic-infrastructure-using-chef)
- [AWS Elastic Beanstalk 設定](/docs/infrastructure/install-infrastructure-agent/config-management-tools/install-infrastructure-agent-aws-elastic-beanstalk)
- [Puppet の設定](/docs/infrastructure/new-relic-infrastructure/config-management-tools/configure-new-relic-infrastructure-puppet)
